(()=>{var e={};e.id=69966,e.ids=[69966],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},57388:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>p,routeModule:()=>m,tree:()=>c});var a=s(73137),r=s(54647),l=s(4183),n=s.n(l),i=s(71775),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=a.AppPageRouteModule,c=["",{children:["admin2",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94328)),"C:\\Users\\ibrahim\\Downloads\\zero-git\\app\\admin2\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70549)),"C:\\Users\\ibrahim\\Downloads\\zero-git\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\ibrahim\\Downloads\\zero-git\\app\\admin2\\page.tsx"],x="/admin2/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new o({definition:{kind:r.x.APP_PAGE,page:"/admin2/page",pathname:"/admin2",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},42293:(e,t,s)=>{Promise.resolve().then(s.bind(s,87096))},87096:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(60080),r=s(9885),l=s(57114);class n{static setItem(e,t){}static getItem(e){return null}static removeItem(e){}static clear(){}}async function i(e,t){await fetch("/api/admin2-log",{method:"POST",headers:{"Content-Type":"application/json","x-admin-token":"admin-token"},body:JSON.stringify({timestamp:new Date().toISOString(),user:"admin2",action:e,details:t})})}function d(){(0,l.useRouter)();let[e,t]=(0,r.useState)("applications"),[s,d]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[p,x]=(0,r.useState)(!0),[h,m]=(0,r.useState)({open:!1,text:""}),[u,b]=(0,r.useState)(!1),[w,g]=(0,r.useState)({username:"",password:""}),[j,y]=(0,r.useState)(""),[N,v]=(0,r.useState)(!1),[f,k]=(0,r.useState)(3),[C,D]=(0,r.useState)(0);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{u&&(x(!0),"applications"===e?fetch("/api/quote").then(e=>e.json()).then(e=>{d(e),x(!1)}):"messages"===e&&fetch("/api/messages").then(e=>e.json()).then(e=>{c(e),x(!1)}))},[u,e]);let S=async e=>{e.preventDefault();let t=await fetch("/api/admin-users",{headers:{"x-admin-token":"admin-token"}});if(t.ok){let e=await t.json();if(w.username===e.username&&w.password===e.password){n.setItem("admin2_logged_in","true"),b(!0),y(""),k(3);return}}y(`Kullanıcı adı veya şifre hatalı.`)},_=async e=>{await fetch("/api/quote",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),d(t=>t.filter(t=>t.id!==e)),await i("Başvuru Sil",{id:e})},P=async(e,t)=>{await fetch("/api/quote",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,read:t})}),d(s=>s.map(s=>s.id===e?{...s,read:t}:s)),await i("Başvuru Okundu Durumu Değiştir",{id:e,read:t})},A=async e=>{await fetch("/api/messages",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),c(t=>t.filter(t=>t.id!==e)),await i("Mesaj Sil",{id:e})},M=async(e,t)=>{await fetch("/api/messages",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,read:t})}),c(s=>s.map(s=>s.id===e?{...s,read:t}:s)),await i("Mesaj Okundu Durumu Değiştir",{id:e,read:t})};return u?p?(0,a.jsxs)("div",{className:"text-center py-20",children:["applications"===e?"Başvurular":"Mesajlar"," y\xfckleniyor..."]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8 mt-24",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"2. Admin Paneli"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8 flex-wrap",children:[a.jsx("button",{onClick:()=>t("applications"),className:`px-4 py-2 rounded ${"applications"===e?"bg-blue-600 text-white":"bg-white border"}`,children:"Başvurular"}),a.jsx("button",{onClick:()=>t("messages"),className:`px-4 py-2 rounded ${"messages"===e?"bg-blue-600 text-white":"bg-white border"}`,children:"Mesajlar"}),a.jsx("button",{onClick:()=>{n.removeItem("admin2_logged_in"),b(!1),g({username:"",password:""}),y("")},className:"px-4 py-2 bg-gray-200 rounded",children:"\xc7ıkış Yap"})]}),(0,a.jsxs)("div",{className:"bg-white rounded shadow p-6",children:["applications"===e&&(0,a.jsxs)("div",{className:"overflow-x-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"\xdccretsiz Teşhis Başvuruları"}),p?a.jsx("div",{children:"Y\xfckleniyor..."}):0===s.length?a.jsx("div",{children:"Başvuru yok."}):(0,a.jsxs)("table",{className:"w-full text-sm border min-w-[900px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Ad Soyad"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Telefon"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"E-posta"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Marka"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Model"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Sorun"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"A\xe7ıklama"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Lokasyon"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Tarih"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Durum"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"İşlem"})]})}),a.jsx("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{className:e.read?"bg-gray-50":"bg-yellow-50",children:[a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"180px"},children:e.name&&e.name.length>24?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.name}),children:"Detay"}):e.name}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"140px"},children:e.phone&&e.phone.length>18?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.phone}),children:"Detay"}):e.phone}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"180px"},children:e.email&&e.email.length>24?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.email}),children:"Detay"}):e.email}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"120px"},children:(e.brand||e.tvBrand)&&(e.brand||e.tvBrand).length>18?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.brand||e.tvBrand}),children:"Detay"}):e.brand||e.tvBrand}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"120px"},children:(e.model||e.tvModel)&&(e.model||e.tvModel).length>18?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.model||e.tvModel}),children:"Detay"}):e.model||e.tvModel}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:e.issue||e.issueType}),a.jsx("td",{className:"border p-2 max-w-xs",style:{maxWidth:"300px"},children:e.issueDescription||e.description?(e.issueDescription||e.description).length>60?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"truncate inline-block align-middle",style:{maxWidth:"180px",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.issueDescription||e.description}),a.jsx("button",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.issueDescription||e.description}),children:"Detay"})]}):e.issueDescription||e.description:""}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:e.location}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:e.createdAt?new Date(e.createdAt).toLocaleString():"-"}),(0,a.jsxs)("td",{className:"border p-2 whitespace-nowrap",children:[e.read?"Okundu":"Yeni",a.jsx("button",{className:"ml-2 text-xs text-blue-600 underline",onClick:()=>P(e.id,!e.read),children:e.read?"Yeniden işaretle":"Okundu yap"})]}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:a.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>_(e.id),children:"Sil"})})]},e.id))})]})]}),"messages"===e&&(0,a.jsxs)("div",{className:"overflow-x-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"İletişim Mesajları"}),(0,a.jsxs)("table",{className:"w-full text-sm border min-w-[900px]",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Ad Soyad"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Telefon"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"E-posta"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Konu"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Mesaj"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Tarih"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"Durum"}),a.jsx("th",{className:"p-2 border whitespace-nowrap",children:"İşlem"})]})}),a.jsx("tbody",{children:o.map(e=>(0,a.jsxs)("tr",{className:e.read?"bg-gray-50":"bg-yellow-50",children:[a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"180px"},children:e.name&&e.name.length>24?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.name}),children:"Detay"}):e.name}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"140px"},children:e.phone&&e.phone.length>18?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.phone}),children:"Detay"}):e.phone}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"180px"},children:e.email&&e.email.length>24?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.email}),children:"Detay"}):e.email}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"120px"},children:e.subject&&e.subject.length>18?a.jsx("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.subject}),children:"Detay"}):e.subject}),a.jsx("td",{className:"border p-2 max-w-xs whitespace-nowrap overflow-hidden text-ellipsis",style:{maxWidth:"300px"},children:e.message&&e.message.length>60?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"truncate inline-block align-middle",style:{maxWidth:"180px",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.message}),a.jsx("button",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>m({open:!0,text:e.message}),children:"Detay"})]}):e.message}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:e.createdAt?new Date(e.createdAt).toLocaleString():"-"}),(0,a.jsxs)("td",{className:"border p-2 whitespace-nowrap",children:[e.read?"Okundu":"Yeni",a.jsx("button",{className:"ml-2 text-xs text-blue-600 underline",onClick:()=>M(e.id,!e.read),children:e.read?"Yeniden işaretle":"Okundu yap"})]}),a.jsx("td",{className:"border p-2 whitespace-nowrap",children:a.jsx("button",{className:"text-xs text-red-600 underline",onClick:()=>{window.confirm("Bu mesajı silmek istediğinizden emin misiniz?")&&A(e.id)},children:"Sil"})})]},e.id))})]})]}),h.open&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Detay"}),a.jsx("div",{className:"text-gray-800 whitespace-pre-line break-words mb-6",style:{maxHeight:"300px",overflowY:"auto"},children:h.text}),a.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800 text-xl",onClick:()=>m({open:!1,text:""}),children:"\xd7"}),a.jsx("button",{className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>m({open:!1,text:""}),children:"Kapat"})]})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-32 mt-16",children:(0,a.jsxs)("form",{onSubmit:S,className:"bg-white p-8 rounded shadow w-full max-w-xs",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"2. Admin Paneli Giriş"}),!1,a.jsx("input",{type:"text",placeholder:"Kullanıcı Adı",value:w.username,onChange:e=>g(t=>({...t,username:e.target.value})),className:"w-full mb-4 px-3 py-2 border rounded",autoFocus:!0,disabled:!1}),a.jsx("input",{type:"password",placeholder:"Şifre",value:w.password,onChange:e=>g(t=>({...t,password:e.target.value})),className:"w-full mb-4 px-3 py-2 border rounded",disabled:!1}),!N&&f<3&&a.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-3 py-2 rounded mb-4 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsxs)("span",{children:["Kalan deneme hakkı: ",a.jsx("strong",{children:f})]})]})}),j&&a.jsx("div",{className:"mb-4 text-sm text-red-600",children:j}),a.jsx("button",{type:"submit",className:"w-full py-2 rounded font-bold bg-blue-600 text-white hover:bg-blue-700",disabled:!1,children:"Giriş Yap "})]})})}},94328:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var a=s(17536);let r=(0,a.createProxy)(String.raw`C:\Users\ibrahim\Downloads\zero-git\app\admin2\page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,d=i}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1365,19721],()=>s(57388));module.exports=a})();
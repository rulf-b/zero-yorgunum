"use strict";(()=>{var e={};e.id=24375,e.ids=[24375],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},24555:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>y,originalPathname:()=>A,requestAsyncStorage:()=>j,routeModule:()=>x,serverHooks:()=>Z,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>z});var s={};t.r(s),t.d(s,{GET:()=>p,POST:()=>m}),t(95655);var a=t(83323),n=t(54647),i=t(66886),o=t(57147),u=t(71017),l=t.n(u),d=t(69542),f=t(8252);let c=l().join(process.cwd(),"data","admin2-user.json");async function p(e){try{let r=(0,d.H9)(e);if((0,d.Q)(r,20,6e4))return i.Z.json({error:"\xc7ok fazla istek. L\xfctfen bekleyin."},{status:429});if(!(0,d.DK)(e)&&!(0,d.$8)(e))return i.Z.json({error:"Yetkisiz erişim."},{status:401});let t=await o.promises.readFile(c,"utf-8");return i.Z.json(JSON.parse(t))}catch(e){return f.k.error("Admin users GET error:",e),i.Z.json({error:"Veri okunamadı."},{status:500})}}async function m(e){try{let r=(0,d.H9)(e);if((0,d.Q)(r,5,6e4))return i.Z.json({error:"\xc7ok fazla istek. L\xfctfen bekleyin."},{status:429});if(!(0,d.DK)(e)&&!(0,d.$8)(e))return i.Z.json({error:"Yetkisiz erişim."},{status:401});let{username:t,password:s}=await e.json();if(!t||!s)return i.Z.json({error:"Kullanıcı adı ve şifre zorunlu."},{status:400});if(t.length<3||s.length<8)return i.Z.json({error:"Kullanıcı adı en az 3, şifre en az 8 karakter olmalı."},{status:400});let a=/[A-Z]/.test(s),n=/[a-z]/.test(s),u=/\d/.test(s),l=/[!@#$%^&*(),.?":{}|<>]/.test(s);if(!a||!n||!u||!l)return i.Z.json({error:"Şifre en az 1 b\xfcy\xfck harf, 1 k\xfc\xe7\xfck harf, 1 rakam ve 1 \xf6zel karakter i\xe7ermeli."},{status:400});await o.promises.writeFile(c,JSON.stringify({username:t,password:s},null,2),"utf-8");let p=(0,d.H9)(e);return f.G.adminAction("ADMIN2_PASSWORD_CHANGE",p,{username:t}),i.Z.json({success:!0})}catch(e){return f.k.error("Admin users POST error:",e),i.Z.json({error:"Kayıt hatası."},{status:500})}}let k=a.AppRouteRouteModule,x=new k({definition:{kind:n.x.APP_ROUTE,page:"/api/admin-users/route",pathname:"/api/admin-users",filename:"route",bundlePath:"app/api/admin-users/route"},resolvedPagePath:"C:\\Users\\ibrahim\\Downloads\\zero-git\\app\\api\\admin-users\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:j,staticGenerationAsyncStorage:h,serverHooks:Z,headerHooks:y,staticGenerationBailout:z}=x,A="/api/admin-users/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[26405,66886,69542,8252],()=>t(24555));module.exports=s})();